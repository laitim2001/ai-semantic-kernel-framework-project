## 完整效果示意
```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                              IPA Platform 對話介面 - 完整執行流程示意                                            │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ 💬 User: APAC Glider ETL Pipeline 連續第三天失敗，日報表完全無法產出                                  │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ 🎯 意圖路由 (三層瀑布)                                                               [pattern] ✓      │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ ⚡ PatternMatcher  < 10ms   ✓ 命中  信心度: 92%  8ms                                                  │     │
│   │                             ↓                                                                          │     │
│   │ 🔍 SemanticRouter  < 100ms  → 跳過                                                                     │     │
│   │ 🧠 LLMClassifier   < 2000ms → 跳過                                                                     │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ 識別意圖: IT_INCIDENT_ETL_FAILURE | 信心度: ████████████░░ 92%                                        │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ ❓ 信息收集 (GuidedDialogEngine)                                           完整度: ████░░░░ 45%      │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ 缺失信息: [錯誤日誌] [影響範圍] [已嘗試修復]                                                          │     │
│   │                                                                                                        │     │
│   │ 請補充以下信息：                                                                                       │     │
│   │ ① 請提供 Pipeline 的錯誤日誌或錯誤訊息                                         📝 錯誤日誌 [必填]     │     │
│   │ ② 這個問題影響了哪些下游系統或報表？                                           📝 影響範圍           │     │
│   │ ③ 您已經嘗試過哪些修復方法？                                                   📝 已嘗試修復         │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ 💬 User: 錯誤日誌顯示 "Connection timeout to source database"，影響 APAC Finance Daily Report，       │     │
│   │         我已經重啟過 ADF Pipeline 但還是失敗                                                          │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ ⚠️ 風險評估 (RiskAssessor)                                                                            │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ ┌─────────────────────────────────┐                                                                   │     │
│   │ │ 🔴 HIGH                         │  Score: 72                                                        │     │
│   │ └─────────────────────────────────┘                                                                   │     │
│   │ 評估因素:                                                                                              │     │
│   │ • 生產系統 (APAC Finance)          +0.3   涉及生產環境數據                                            │     │
│   │ • 連續失敗 (3天)                   +0.2   影響範圍擴大中                                              │     │
│   │ • 數據變更可能性                   +0.2   可能需要修改配置或數據                                      │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ 🔐 需要 IT Manager 審批                                                                               │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ 🔐 人機協作審批 (HITLController)                                              ⏳ 等待審批              │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ 請求操作: ETL Pipeline 故障診斷與修復                                                                 │     │
│   │ 風險等級: [HIGH]                                                                                      │     │
│   │ 審批人:   IT Manager (John Smith)                                                                     │     │
│   │ 通知渠道: [💬 teams] [🌐 web]                                                                          │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ 等待時間: ████████░░░░░░░░░░░░  5 / 30 分鐘                                                           │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │                                              [✅ 批准]  [❌ 拒絕]                                      │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ 🔐 人機協作審批                                                                ✅ 已批准              │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ ✅ 已批准                                                                                              │     │
│   │ 審批人: John Smith | 時間: 2026-01-29 10:35:22                                                        │     │
│   │ 💬 "請注意生產環境影響，執行前確認備份"                                                               │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ 🏗️ 框架選擇 (HybridOrchestratorV2)                                                                    │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ 選擇框架: [hybrid] MAF Sequential + Claude SDK Workers                                                │     │
│   │ 原因: 診斷任務需要結構化流程 (Sequential) + 深度推理 (Extended Thinking)                              │     │
│   │ MAF Builder: Sequential (診斷 → 修復 → 驗證)                                                          │     │
│   │ Claude 特性: [Extended Thinking] [Agentic Loop] [MCP Tools]                                           │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ 🐝 Agent Swarm | 3 Workers                                    [➡️ Sequential] [診斷階段]              │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ 整體進度: ████████████░░░░░░░░  58%                                                                   │     │
│   │                                                                                                        │     │
│   │ 📋 執行計劃: ① 診斷 → ② 修復 → ③ 驗證                                                                │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │                                                                                                        │     │
│   │   🔍 DiagnosticWorker                                                   🔄 Running          01        │     │
│   │   [🤖 Claude] [Diagnostic]                                                                             │     │
│   │   └─ 分析 ADF Pipeline 錯誤日誌，定位 Connection timeout 根因...                                      │     │
│   │   ████████████████░░░░  85%  [analyzing] (2/3)                                                        │     │
│   │   [☁️ azure] query_adf_logs ✓ | [☁️ azure] check_db_connectivity ⏳                                   │     │
│   │   💭 "錯誤指向源數據庫連接問題。正在檢查網絡配置和防火牆規則..."                                      │     │
│   │                                                                                                        │     │
│   │   🔧 RemediationWorker                                                  ⏸️ Pending          02        │     │
│   │   [🤖 Claude] [Remediation]                                                                            │     │
│   │   └─ 等待診斷結果，準備執行修復方案                                                                   │     │
│   │   ░░░░░░░░░░░░░░░░░░░░  0%                                                                            │     │
│   │                                                                                                        │     │
│   │   ✅ VerificationWorker                                                 ⏸️ Pending          03        │     │
│   │   [🏗️ MAF] [Verification]                                                                              │     │
│   │   └─ 等待修復完成，執行驗證測試                                                                       │     │
│   │   ░░░░░░░░░░░░░░░░░░░░  0%                                                                            │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ ℹ️ 任務由 Sequential 模式編排。使用 MAF Builder + Claude SDK 混合執行。                               │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ ☁️ AZURE MCP | query_adf_logs                                                         ✅ completed    │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ 🔑 read_adf_logs | 📝 audit_diagnostic_query                                                          │     │
│   │ Input: {"pipeline": "APAC_Glider_ETL", "timerange": "72h"}                                            │     │
│   │ Output: {"error_count": 47, "primary_error": "Connection timeout", "affected_runs": [...]}            │     │
│   │ ⏱️ 1,245ms                                                                                             │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ 💾 Checkpoint                                                              [saved] redis              │     │
│   │ ─────────────────────────────────────────────────────────────────────────────────────────────────     │     │
│   │ ID: chk_abc123... | 狀態: 診斷階段完成，已定位根因                                                    │     │
│   │ ✅ 可恢復                                                                                              │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ [輸入消息...]                                                          [Send] [/compact] [/context]   │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
│   ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐     │
│   │ Context: ████████████░░░░  62% (124K/200K) │ Session: sess_xyz789 │ Risk: HIGH │ HITL: Approved       │     │
│   └───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │
│                                                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

-------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------



┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                              現有 IPA Platform 介面佈局分析                                                      │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                  │
│   ┌──────────────┬────────────────────────────────────────────────┬──────────────────────────────────────┐      │
│   │              │                                                │                                      │      │
│   │   左側欄     │              中間 - 主對話區域                  │       右側 - Orchestration          │      │
│   │   對話列表   │                                                │                                      │      │
│   │              │   ┌────────────────────────────────────────┐   │   ┌──────────────────────────────┐  │      │
│   │  ┌────────┐  │   │  🤖 AI Assistant 上午10:50              │   │   │ Workflow Progress          >│  │      │
│   │  │當前對話│  │   │                                        │   │   │                              │  │      │
│   │  │0秒前   │  │   │  你好！我來幫你解決Outlook連線問題...   │   │   │  PROGRESS                    │  │      │
│   │  └────────┘  │   │                                        │   │   │  ░░░ No workflow active     │  │      │
│   │              │   │  **基本資訊：**                         │   │   │                              │  │      │
│   │  ┌────────┐  │   │  1. Outlook版本？                       │   │   │  TOOL CALLS (0)              │  │      │
│   │  │hello   │  │   │  2. 錯誤訊息？                          │   │   │  ░░░ No tool calls yet      │  │      │
│   │  │1小時前 │  │   │  3. 突然還是新設定？                    │   │   │                              │  │      │
│   │  └────────┘  │   │                                        │   │   │  CHECKPOINTS (0)             │  │      │
│   │              │   │  **可以先試試這些基本解決方法：**        │   │   │  ░░░ No checkpoints saved   │  │      │
│   │  ┌────────┐  │   │  🖥️ 檢查網路連線                        │   │   └──────────────────────────────┘  │      │
│   │  │hello   │  │   │  🔄 重新啟動程式                        │   │                                      │      │
│   │  │3天前   │  │   │  ⚙️ 檢查帳號設定                        │   │   ┌──────────────────────────────┐  │      │
│   │  └────────┘  │   │  🔐 檢查密碼                            │   │   │ 📋 Routing Decision    LLM  │  │      │
│   │              │   │                                        │   │   │                              │  │      │
│   │              │   └────────────────────────────────────────┘   │   │ Intent: unknown              │  │      │
│   │              │                                                │   │ Confidence: 70%              │  │      │
│   │              │                                                │   │ Workflow: handoff            │  │      │
│   │              │   ┌────────────────────────────────────────┐   │   │ Completeness: ████░░ 44%    │  │      │
│   │              │   │ 📎 Describe your task...          [▷] │   │   │                              │  │      │
│   │              │   └────────────────────────────────────────┘   │   │ Reasoning: Mock classifi... │  │      │
│   │              │                                                │   └──────────────────────────────┘  │      │
│   │              │   ┌────────────────────────────────────────┐   │                                      │      │
│   │              │   │Mode: Workflow │ Risk: 🟢Low │ Tokens: │   │   ┌──────────────────────────────┐  │      │
│   │              │   └────────────────────────────────────────┘   │   │ ⚠️ Risk Assessment  MEDIUM  │  │      │
│   │              │                                                │   │                              │  │      │
│   └──────────────┴────────────────────────────────────────────────┴   │ Score: 51%                   │  │      │
│                                                                       │ Approval: Not Required       │  │      │
│                                                                       │ Factors: ...                 │  │      │
│                                                                       └──────────────────────────────┘  │      │
│                                                                                                          │      │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                              Worker 詳情查看方案對比                                                             │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                  │
│   方案 A: Drawer 滑出面板 (推薦)                                                                                 │
│   ════════════════════════════                                                                                   │
│   • 從右側滑出一個更寬的面板                                                                                     │
│   • 顯示選中 Worker 的完整詳情                                                                                   │
│   • 不影響主對話區域                                                                                             │
│   • 類似 VS Code 的側邊面板展開                                                                                  │
│                                                                                                                  │
│   方案 B: Modal 彈窗                                                                                             │
│   ══════════════════                                                                                             │
│   • 點擊 Worker 彈出全屏/大尺寸 Modal                                                                            │
│   • 可以顯示完整的對話歷史和思考過程                                                                             │
│   • 適合需要專注查看詳情的場景                                                                                   │
│                                                                                                                  │
│   方案 C: 右側面板內切換 (輕量)                                                                                  │
│   ════════════════════════════                                                                                   │
│   • 點擊 Worker 後，右側面板內容替換為該 Worker 詳情                                                             │
│   • 帶「返回」按鈕回到 Orchestration 總覽                                                                        │
│   • 適合快速查看                                                                                                 │
│                                                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                              擴展後的介面佈局 (Agent Swarm 執行中)                                               │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                  │
│   ┌──────────┬─────────────────────────────────────────┬─────────────────────────────────────────────────────┐  │
│   │          │                                         │                                                      │  │
│   │  對話列表 │           主對話區域                    │              Orchestration 面板                     │  │
│   │          │                                         │                                                      │  │
│   │          │   ┌─────────────────────────────────┐   │   ┌──────────────────────────────────────────────┐  │  │
│   │          │   │ 💬 User: APAC ETL 連續失敗...   │   │   │ Workflow Progress                          >│  │  │
│   │          │   └─────────────────────────────────┘   │   ├──────────────────────────────────────────────┤  │  │
│   │          │                                         │   │                                              │  │  │
│   │          │   ┌─────────────────────────────────┐   │   │  🐝 AGENT SWARM (3 Workers)                 │  │  │
│   │          │   │ 🤖 AI: 讓我組建專業團隊分析...   │   │   │  ────────────────────────────────────────  │  │  │
│   │          │   └─────────────────────────────────┘   │   │  整體進度: ████████░░░░ 65%                 │  │  │
│   │          │                                         │   │                                              │  │  │
│   │          │                                         │   │  ┌────────────────────────────────────────┐ │  │  │
│   │          │                                         │   │  │ 🔍 DiagnosticWorker         🔄 85%    │ │  │  │
│   │          │                                         │   │  │    分析 ADF 日誌中...        [查看 >] │ │  │  │
│   │          │                                         │   │  └────────────────────────────────────────┘ │  │  │
│   │          │                                         │   │  ┌────────────────────────────────────────┐ │  │  │
│   │          │                                         │   │  │ 🔧 RemediationWorker        ⏸️ 0%     │ │  │  │
│   │          │                                         │   │  │    等待診斷結果...           [查看 >] │ │  │  │
│   │          │                                         │   │  └────────────────────────────────────────┘ │  │  │
│   │          │                                         │   │  ┌────────────────────────────────────────┐ │  │  │
│   │          │                                         │   │  │ ✅ VerificationWorker       ⏸️ 0%     │ │  │  │
│   │          │                                         │   │  │    等待修復完成...           [查看 >] │ │  │  │
│   │          │                                         │   │  └────────────────────────────────────────┘ │  │  │
│   │          │                                         │   │                                              │  │  │
│   │          │                                         │   └──────────────────────────────────────────────┘  │  │
│   │          │                                         │                                                      │  │
│   │          │                                         │   ┌──────────────────────────────────────────────┐  │  │
│   │          │                                         │   │ TOOL CALLS (3)                               │  │  │
│   │          │                                         │   │ ☁️ azure:query_adf_logs ✓ 1.2s              │  │  │
│   │          │                                         │   │ ☁️ azure:check_connectivity ⏳               │  │  │
│   │          │                                         │   └──────────────────────────────────────────────┘  │  │
│   │          │                                         │                                                      │  │
│   │          │                                         │   ┌──────────────────────────────────────────────┐  │  │
│   │          │                                         │   │ CHECKPOINTS (1)                              │  │  │
│   │          │                                         │   │ 💾 chk_abc123 診斷階段 [恢復]               │  │  │
│   │          │                                         │   └──────────────────────────────────────────────┘  │  │
│   │          │   ┌─────────────────────────────────┐   │                                                      │  │
│   │          │   │ 📎 輸入...              [Send] │   │   ┌──────────────────────────────────────────────┐  │  │
│   │          │   └─────────────────────────────────┘   │   │ 📋 Routing Decision              LLM        │  │  │
│   │          │                                         │   │ Intent: IT_INCIDENT | Confidence: 92%       │  │  │
│   │          │   ┌─────────────────────────────────┐   │   └──────────────────────────────────────────────┘  │  │
│   │          │   │ Mode: Workflow │ Risk: 🔴HIGH  │   │   ┌──────────────────────────────────────────────┐  │  │
│   │          │   │ Tokens: 45K/200K │ Workers: 3  │   │   │ ⚠️ Risk Assessment              HIGH        │  │  │
│   │          │   └─────────────────────────────────┘   │   │ Score: 72% | Approval: ✅ Approved          │  │  │
│   │          │                                         │   └──────────────────────────────────────────────┘  │  │
│   └──────────┴─────────────────────────────────────────┴─────────────────────────────────────────────────────┘  │
│                                                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                              點擊 Worker 後 - Drawer 滑出詳情                                                    │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                  │
│   ┌──────────┬──────────────────────────────┬─────────────────────────────────────────────────────────────────┐  │
│   │          │                              │                                                                  │  │
│   │  對話列表 │      主對話區域 (變窄)       │                  Worker 詳情 Drawer                             │  │
│   │          │                              │                                                                  │  │
│   │          │                              │   ┌───────────────────────────────────────────────────────────┐ │  │
│   │          │   ┌──────────────────────┐   │   │ ← 返回                              🔍 DiagnosticWorker  │ │  │
│   │          │   │ 💬 User: APAC ETL... │   │   │                                                           │ │  │
│   │          │   └──────────────────────┘   │   │ 狀態: 🔄 Running | 進度: ████████░░ 85%                   │ │  │
│   │          │                              │   │ 類型: 🤖 Claude SDK | 角色: Diagnostic                    │ │  │
│   │          │   ┌──────────────────────┐   │   └───────────────────────────────────────────────────────────┘ │  │
│   │          │   │ 🤖 AI: 讓我組建...   │   │                                                                  │  │
│   │          │   └──────────────────────┘   │   ┌───────────────────────────────────────────────────────────┐ │  │
│   │          │                              │   │ 📋 當前任務                                               │ │  │
│   │          │                              │   │ ─────────────────────────────────────────────────────────  │ │  │
│   │          │                              │   │ 分析 APAC Glider ETL Pipeline 連續三天失敗的根因，        │ │  │
│   │          │                              │   │ 重點檢查 Connection timeout 錯誤的來源。                  │ │  │
│   │          │                              │   └───────────────────────────────────────────────────────────┘ │  │
│   │          │                              │                                                                  │  │
│   │          │                              │   ┌───────────────────────────────────────────────────────────┐ │  │
│   │          │                              │   │ 💭 思考過程 (Extended Thinking)                    [展開] │ │  │
│   │          │                              │   │ ─────────────────────────────────────────────────────────  │ │  │
│   │          │                              │   │ 我需要分析這個 ETL 失敗問題。根據用戶提供的信息：         │ │  │
│   │          │                              │   │                                                           │ │  │
│   │          │                              │   │ 1. 錯誤是 "Connection timeout to source database"         │ │  │
│   │          │                              │   │ 2. 連續三天失敗                                           │ │  │
│   │          │                              │   │ 3. 影響 APAC Finance Daily Report                        │ │  │
│   │          │                              │   │                                                           │ │  │
│   │          │                              │   │ 這表明問題可能是：                                        │ │  │
│   │          │                              │   │ - 網路配置變更                                            │ │  │
│   │          │                              │   │ - 防火牆規則調整                                          │ │  │
│   │          │                              │   │ - 源數據庫負載過高                                        │ │  │
│   │          │                              │   │ - 連接池配置問題                                          │ │  │
│   │          │                              │   │                                                           │ │  │
│   │          │                              │   │ 我應該先查詢 ADF 的詳細日誌來確認具體的錯誤模式...        │ │  │
│   │          │                              │   └───────────────────────────────────────────────────────────┘ │  │
│   │          │                              │                                                                  │  │
│   │          │                              │   ┌───────────────────────────────────────────────────────────┐ │  │
│   │          │                              │   │ 🔧 工具調用 (3)                                           │ │  │
│   │          │                              │   │ ─────────────────────────────────────────────────────────  │ │  │
│   │          │                              │   │                                                           │ │  │
│   │          │                              │   │ ┌─────────────────────────────────────────────────────┐   │ │  │
│   │          │                              │   │ │ ☁️ azure MCP │ query_adf_logs          ✅ 1,245ms │   │ │  │
│   │          │                              │   │ │ ───────────────────────────────────────────────────  │   │ │  │
│   │          │                              │   │ │ Input: {pipeline: "APAC_Glider_ETL", range: "72h"} │   │ │  │
│   │          │                              │   │ │ Output: {error_count: 47, primary: "timeout"...}   │   │ │  │
│   │          │                              │   │ └─────────────────────────────────────────────────────┘   │ │  │
│   │          │                              │   │                                                           │ │  │
│   │          │                              │   │ ┌─────────────────────────────────────────────────────┐   │ │  │
│   │          │                              │   │ │ ☁️ azure MCP │ check_db_connectivity   ⏳ Running  │   │ │  │
│   │          │                              │   │ │ ───────────────────────────────────────────────────  │   │ │  │
│   │          │                              │   │ │ Input: {server: "apac-sql-prod", port: 1433}       │   │ │  │
│   │          │                              │   │ │ Output: 等待中...                                   │   │ │  │
│   │          │                              │   │ └─────────────────────────────────────────────────────┘   │ │  │
│   │          │                              │   │                                                           │ │  │
│   │          │                              │   └───────────────────────────────────────────────────────────┘ │  │
│   │          │                              │                                                                  │  │
│   │          │                              │   ┌───────────────────────────────────────────────────────────┐ │  │
│   │          │                              │   │ 💬 對話歷史                                        [展開] │ │  │
│   │          │                              │   │ ─────────────────────────────────────────────────────────  │ │  │
│   │          │                              │   │ [System] 你是一個專業的 ETL 故障診斷專家...               │ │  │
│   │          │                              │   │ [User] 請分析 APAC Glider ETL Pipeline 的問題...          │ │  │
│   │          │                              │   │ [Assistant] 好的，我來分析這個問題。首先...               │ │  │
│   │          │                              │   │ [Tool] query_adf_logs → {error_count: 47...}             │ │  │
│   │          │                              │   │ [Assistant] 根據日誌分析，主要錯誤是...                   │ │  │
│   │          │                              │   └───────────────────────────────────────────────────────────┘ │  │
│   │          │                              │                                                                  │  │
│   │          │                              │   ┌───────────────────────────────────────────────────────────┐ │  │
│   │          │                              │   │ 💾 Checkpoint                                             │ │  │
│   │          │                              │   │ ID: chk_abc123 | Backend: Redis | 可恢復: ✅              │ │  │
│   │          │                              │   │ [恢復到此狀態]                                            │ │  │
│   │          │                              │   └───────────────────────────────────────────────────────────┘ │  │
│   │          │                              │                                                                  │  │
│   └──────────┴──────────────────────────────┴─────────────────────────────────────────────────────────────────┘  │
│                                                                                                                  │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘


總結
方案優點缺點推薦場景Drawer (推薦)不影響主佈局、空間大、可顯示完整詳情需要額外點擊關閉需要查看完整思考/對話歷史Modal專注、空間最大遮擋主介面深度分析單個 Worker面板內切換輕量、無需額外 UI空間有限、丟失上下文快速查看
這個設計：

保持你現有的三欄佈局不變
在右側 Orchestration 面板中新增 Agent Swarm 區塊
點擊 Worker 時滑出詳情 Drawer
Drawer 中可以查看思考過程、工具調用、對話歷史、Checkpoint 等完整信息