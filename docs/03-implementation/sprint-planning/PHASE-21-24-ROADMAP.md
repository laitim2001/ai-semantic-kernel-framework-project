# Phase 21-27 Roadmap: å®‰å…¨æ¶æ§‹èˆ‡ Claude è‡ªä¸»èƒ½åŠ›

**å»ºç«‹æ—¥æœŸ**: 2026-01-11
**é‡å¤§æ›´æ–°**: 2026-01-13 - æ–°å¢ Phase 26 DevUI å‰ç«¯ã€Phase 27 mem0 æ•´åˆå®Œå–„
**ç‹€æ…‹**: è¨ˆåŠƒä¸­
**å‰ç½®æ¢ä»¶**: Phase 20 å®Œæˆ âœ…

---

## Executive Summary

Phase 21-27 å°ˆæ³¨æ–¼å…­å¤§æ ¸å¿ƒç›®æ¨™ï¼š
1. **ğŸ” æ²™ç®±å®‰å…¨æ¶æ§‹** - é€²ç¨‹éš”é›¢ç¢ºä¿ Agent åŸ·è¡Œå®‰å…¨ï¼ˆP0ï¼‰
2. **Claude è‡ªä¸»è¦åŠƒèƒ½åŠ›** - å¾ã€ŒTool åŸ·è¡Œè€…ã€å‡ç´šç‚ºã€Œè‡ªä¸»è¦åŠƒè€…ã€
3. **é•·æœŸè¨˜æ†¶èˆ‡å­¸ç¿’ç³»çµ±** - mem0 æ•´åˆå¯¦ç¾è·¨æœƒè©±å­¸ç¿’
4. **ç”Ÿæ…‹å®Œå–„èˆ‡æ“´å±•** - A2A é€šä¿¡ã€å‰ç«¯å®Œå–„ã€Kubernetes éƒ¨ç½²
5. **ğŸ–¥ï¸ DevUI é–‹ç™¼è€…å·¥å…·** - å®Œæ•´çš„åŸ·è¡Œè¿½è¹¤èˆ‡å¯è¦–åŒ–ä»‹é¢
6. **ğŸ§  mem0 æ•´åˆå®Œå–„** - ä¾è³´é…ç½®ã€æ¸¬è©¦è¦†è“‹ã€æ–‡æª”å®Œå–„

---

## Roadmap Overview

```
Phase 20     Phase 21       Phase 22       Phase 23       Phase 24       Phase 25       Phase 26       Phase 27
   â†“             â†“              â†“              â†“              â†“              â†“              â†“              â†“
æ–‡ä»¶é™„ä»¶  â†’  ğŸ” æ²™ç®±å®‰å…¨  â†’  Claude è¦åŠƒ  â†’  å¤š Agent   â†’  å‰ç«¯å®Œå–„   â†’  Kubernetes  â†’  DevUI å‰ç«¯  â†’  mem0 å®Œå–„
âœ… å®Œæˆ      é€²ç¨‹éš”é›¢        + mem0        A2A é€šä¿¡       n8n æ•´åˆ        ç›£æ§          æ™‚é–“ç·š       æ¸¬è©¦/æ–‡æª”
(34 pts)     (38 pts)       (50 pts)      (42 pts)       (38 pts)       (40 pts)      (42 pts)      (13 pts)
                â†‘               â†‘              â†‘
            ğŸ”´ æœ€é«˜å„ªå…ˆ     ğŸ”´ é«˜å„ªå…ˆ      ğŸŸ¡ ä¸­å„ªå…ˆ
            (å®‰å…¨åŸºç¤)     (æ ¸å¿ƒåŠŸèƒ½)     (å”ä½œå¢å¼·)
```

---

## Phase Summary

| Phase | åç¨± | Sprint ç¯„åœ | Story Points | å„ªå…ˆç´š | ç‹€æ…‹ |
|-------|------|-------------|--------------|--------|------|
| **21** | ğŸ” æ²™ç®±å®‰å…¨æ¶æ§‹ | S77-S78 | 38 pts | ğŸ”´ P0 æœ€é«˜ | âœ… å®Œæˆ |
| **22** | Claude è‡ªä¸»èƒ½åŠ›èˆ‡å­¸ç¿’ç³»çµ± | S79-S80 | 50 pts | ğŸ”´ P0 é«˜ | âœ… å®Œæˆ |
| **23** | å¤š Agent å”èª¿èˆ‡ä¸»å‹•å·¡æª¢ | S81-S82 | 42 pts | ğŸŸ¡ P1 ä¸­ | âš ï¸ 75% |
| **24** | å‰ç«¯å®Œå–„èˆ‡ç”Ÿæ…‹æ•´åˆ | S83-S84 | 38 pts | ğŸŸ¢ P2 ä½ | è¨ˆåŠƒä¸­ |
| **25** | ç”Ÿç”¢ç’°å¢ƒæ“´å±• | S85-S86 | 40 pts | ğŸ”µ P3 è¦–éœ€æ±‚ | è¨ˆåŠƒä¸­ |
| **26** | DevUI å‰ç«¯å¯¦ç¾ | S87-S89 | 42 pts | ğŸŸ¡ P1 é«˜ | è¨ˆåŠƒä¸­ |
| **27** | mem0 æ•´åˆå®Œå–„ | S90 | 13 pts | ğŸŸ¡ P1 é«˜ | è¨ˆåŠƒä¸­ |
| **Total** | | 14 Sprints | **263 pts** | | |

---

## Phase 21: æ²™ç®±å®‰å…¨æ¶æ§‹ (38 pts) ğŸ”´ P0 æœ€é«˜å„ªå…ˆ âœ…

### å®‰å…¨å•é¡ŒèƒŒæ™¯

| ç™¼ç¾ | é¢¨éšªç­‰ç´š | å½±éŸ¿ |
|------|----------|------|
| Claude Agent åœ¨ä¸»é€²ç¨‹åŸ·è¡Œ | ğŸ”´ é«˜ | å¯è¨ªå•ä¸»é€²ç¨‹ç’°å¢ƒè®Šé‡ã€æ•æ„Ÿè³‡æº |
| Hook ç³»çµ±å·²å¯¦ç¾ä½†æœªå•Ÿç”¨ | ğŸŸ¡ ä¸­ | å®‰å…¨æ©Ÿåˆ¶æœªç”Ÿæ•ˆ |
| Chat é é¢å¯è¨ªå•é …ç›®æºä»£ç¢¼ | ğŸ”´ é«˜ | æ½›åœ¨æ•¸æ“šæ´©éœ²é¢¨éšª |

### ç›®æ¨™

å»ºç«‹é€²ç¨‹éš”é›¢çš„å®‰å…¨åŸ·è¡Œç’°å¢ƒï¼Œç¢ºä¿ Agent ç„¡æ³•è¨ªå•ä¸»é€²ç¨‹æ•æ„Ÿè³‡æºã€‚

### æ¶æ§‹è¨­è¨ˆ

```
ä¿®æ”¹å‰ï¼šAPI â†’ Bridge â†’ ClaudeSDKClient â†’ Tools (åŒä¸€é€²ç¨‹)

ä¿®æ”¹å¾Œï¼š
API â†’ Bridge â†’ Orchestrator â†’ [Sandbox Process] â†’ ClaudeSDKClient â†’ Tools
                    â†‘                    â†‘
               (ä¸»é€²ç¨‹)              (éš”é›¢é€²ç¨‹)
               ä¿è­·æ•æ„Ÿè³‡æº          å—é™ç’°å¢ƒ
```

### Sprint è¦åŠƒ

| Sprint | åç¨± | Points | æ ¸å¿ƒåŠŸèƒ½ |
|--------|------|--------|---------|
| **S77** | SandboxOrchestrator + SandboxWorker | 21 pts | é€²ç¨‹èª¿åº¦ã€éš”é›¢åŸ·è¡Œ |
| **S78** | IPC é€šä¿¡ + ä»£ç¢¼é©é… + å®‰å…¨é©—è­‰ | 17 pts | JSON-RPCã€SSE è½‰ç™¼ã€å®‰å…¨æ¸¬è©¦ |

### æ ¸å¿ƒçµ„ä»¶

| çµ„ä»¶ | æ–‡ä»¶ | è·è²¬ |
|------|------|------|
| SandboxOrchestrator | `core/sandbox/orchestrator.py` | é€²ç¨‹èª¿åº¦å’Œç”Ÿå‘½é€±æœŸç®¡ç† |
| SandboxWorker | `core/sandbox/worker.py` | éš”é›¢å­é€²ç¨‹ä¸­åŸ·è¡Œ Claude Agent |
| IPCProtocol | `core/sandbox/ipc.py` | stdin/stdout JSON-RPC é€šä¿¡ |
| SandboxConfig | `core/sandbox/config.py` | æ²™ç®±ç’°å¢ƒé…ç½® |

### é©—è­‰æ¨™æº–

- [x] Agent åŸ·è¡Œåœ¨ç¨ç«‹å­é€²ç¨‹ä¸­
- [x] å­é€²ç¨‹ç„¡æ³•è¨ªå•ä¸»é€²ç¨‹ç’°å¢ƒè®Šé‡
- [x] å­é€²ç¨‹åªèƒ½è¨ªå• /sandbox/{user_id}/ ç›®éŒ„
- [x] SSE äº‹ä»¶æ­£ç¢ºè½‰ç™¼åˆ°å‰ç«¯
- [x] æ€§èƒ½æè€— < 200msï¼ˆé¦–æ¬¡å•Ÿå‹•ï¼‰

### ä¾è³´é—œä¿‚

- Phase 20 å®Œæˆ (æ–‡ä»¶é™„ä»¶æ”¯æ´) âœ…
- ç¾æœ‰ Hook ç³»çµ± (åœ¨æ²™ç®±å…§ä½¿ç”¨)

---

## Phase 22: Claude è‡ªä¸»èƒ½åŠ›èˆ‡å­¸ç¿’ç³»çµ± (50 pts) ğŸ”´ P0 é«˜å„ªå…ˆ âœ…

### ç›®æ¨™

è®“ Claude å¾ã€ŒTool åŸ·è¡Œè€…ã€å‡ç´šç‚ºã€Œè‡ªä¸»è¦åŠƒè€…ã€ï¼Œå¯¦ç¾ã€Œåˆ†æ â†’ è¦åŠƒ â†’ åŸ·è¡Œ â†’ é©—è­‰ã€é–‰ç’°ã€‚

### Sprint è¦åŠƒ

| Sprint | åç¨± | Points | æ ¸å¿ƒåŠŸèƒ½ |
|--------|------|--------|---------|
| **S79** | Claude è‡ªä¸»è¦åŠƒå¼•æ“ + mem0 æ•´åˆ | 23 pts | Claude è‡ªä¸»è¦åŠƒã€mem0 SDK |
| **S80** | å­¸ç¿’ç³»çµ±èˆ‡æ™ºèƒ½å›é€€ | 27 pts | Few-shotã€Trial-and-Errorã€å¯©è¨ˆè¿½è¹¤ |

### æ ¸å¿ƒåŠŸèƒ½

#### 1. Claude è‡ªä¸»è¦åŠƒå¼•æ“ (S79-1, 13 pts)
```
äº‹ä»¶è¼¸å…¥ â†’ Claude åˆ†æ â†’ è‡ªä¸»è¦åŠƒæ­¥é©Ÿ â†’ åŸ·è¡Œ â†’ é©—è­‰çµæœ
                â†“
        Extended Thinking (å‹•æ…‹ budget_tokens)
```

#### 2. mem0 é•·æœŸè¨˜æ†¶æ•´åˆ (S79-2, 10 pts)
- å‘é‡å­˜å„²: Qdrant (æœ¬åœ°)
- åµŒå…¥æ¨¡å‹: OpenAI text-embedding-3-small
- è¨˜æ†¶ç¯„åœ: User/Session/Agent memory

#### 3. Few-shot å­¸ç¿’ç³»çµ± (S80-1, 8 pts)
#### 4. è‡ªä¸»æ±ºç­–å¯©è¨ˆè¿½è¹¤ (S80-2, 8 pts)
#### 5. Trial-and-Error æ™ºèƒ½å›é€€ (S80-3, 6 pts)
#### 6. Claude Session ç‹€æ…‹å¢å¼· (S80-4, 5 pts)

### ä¾è³´é—œä¿‚

- Phase 21 å®Œæˆ (æ²™ç®±å®‰å…¨æ¶æ§‹)
- Claude SDK åŸºç¤æ•´åˆ (Phase 12)

---

## Phase 23: å¤š Agent å”èª¿èˆ‡ä¸»å‹•å·¡æª¢ (42 pts) ğŸŸ¡ P1 ä¸­å„ªå…ˆ âš ï¸ 75%

### ç›®æ¨™

å¼·åŒ– Claude åœ¨å¤š Agent å”ä½œä¸­çš„è§’è‰²ï¼Œå¯¦ç¾ä¸»å‹•å¼ AI èƒ½åŠ›ã€‚

### Sprint è¦åŠƒ

| Sprint | åç¨± | Points | æ ¸å¿ƒåŠŸèƒ½ |
|--------|------|--------|---------|
| **S81** | Claude ä¸»å°çš„å¤š Agent å”èª¿ | 26 pts | A2A é€šä¿¡ã€Agent ç™¼ç¾ |
| **S82** | ä¸»å‹•å·¡æª¢èˆ‡æ™ºèƒ½é—œè¯ | 16 pts | ä¸»å‹•å·¡æª¢ã€æ ¹å› åˆ†æ |

### æ ¸å¿ƒåŠŸèƒ½

#### 1. Claude ä¸»å°çš„å¤š Agent å”èª¿ (S81-1, 10 pts)
#### 2. A2A é€šä¿¡å”è­°å®Œå–„ (S81-2, 8 pts)
#### 3. Claude + MAF æ·±åº¦èåˆ (S81-3, 8 pts)
#### 4. ä¸»å‹•å·¡æª¢æ¨¡å¼ (S82-1, 8 pts)
#### 5. æ™ºèƒ½é—œè¯èˆ‡æ ¹å› åˆ†æ (S82-2, 8 pts)

### ä¾è³´é—œä¿‚

- Phase 22 å®Œæˆ (Claude è‡ªä¸»è¦åŠƒ + mem0)
- MAF Adapters (Phase 3-6)

---

## Phase 24: å‰ç«¯å®Œå–„èˆ‡ç”Ÿæ…‹æ•´åˆ (38 pts) ğŸŸ¢ P2 ä½å„ªå…ˆ

### ç›®æ¨™

å®Œå–„å‰ç«¯ä»‹é¢åŠŸèƒ½ï¼Œæ“´å±•ç”Ÿæ…‹æ•´åˆèƒ½åŠ›ã€‚

### Sprint è¦åŠƒ

| Sprint | åç¨± | Points | æ ¸å¿ƒåŠŸèƒ½ |
|--------|------|--------|---------|
| **S83** | WorkflowViz èˆ‡ Dashboard | 18 pts | å¯¦æ™‚æ›´æ–°ã€è‡ªå®šç¾©å„€è¡¨æ¿ |
| **S84** | ç”Ÿæ…‹æ•´åˆèˆ‡å¯©æ‰¹æµç¨‹ | 20 pts | n8nã€å¤šç´šå¯©æ‰¹ã€é€šçŸ¥ |

### æ ¸å¿ƒåŠŸèƒ½

#### 1. WorkflowViz å¯¦æ™‚æ›´æ–° (S83-1, 10 pts)
#### 2. Dashboard è‡ªå®šç¾© (S83-2, 8 pts)
#### 3. n8n è§¸ç™¼æ•´åˆ (S84-1, 8 pts)
#### 4. å¤šç´šå¯©æ‰¹æµç¨‹ (S84-2, 5 pts)
#### 5. æ•ˆèƒ½ç›£æ§å¢å¼· (S84-3, 5 pts)
#### 6. çŸ­ä¿¡/éƒµä»¶é€šçŸ¥ (S84-4, 2 pts)

### ä¾è³´é—œä¿‚

- Phase 23 å®Œæˆ (å¤š Agent å”èª¿)
- å‰ç«¯åŸºç¤ (Phase 16-19)

---

## Phase 25: ç”Ÿç”¢ç’°å¢ƒæ“´å±• (40 pts) ğŸ”µ P3 è¦–éœ€æ±‚

### ç›®æ¨™

ç‚ºç”Ÿç”¢ç’°å¢ƒæº–å‚™ Kubernetes éƒ¨ç½²å’Œæ°´å¹³æ“´å±•èƒ½åŠ›ã€‚

### Sprint è¦åŠƒ

| Sprint | åç¨± | Points | æ ¸å¿ƒåŠŸèƒ½ |
|--------|------|--------|---------|
| **S85** | Worker å®¹å™¨åŒ–èˆ‡ K8s éƒ¨ç½² | 20 pts | Dockerã€Helmã€HPA |
| **S86** | ç›£æ§å¢å¼·èˆ‡ç½é›£æ¢å¾© | 20 pts | Prometheusã€Grafanaã€å‚™ä»½ |

### æ ¸å¿ƒåŠŸèƒ½

#### 1. Worker å®¹å™¨åŒ– + æ²™ç®±å¢å¼· (S85-1, 12 pts)
- å®¹å™¨ç´šæ²™ç®±å¢å¼·
- Dockerfile å„ªåŒ–

#### 2. Kubernetes éƒ¨ç½² (S85-2, 8 pts)
- Helm Chart é–‹ç™¼
- ConfigMap/Secret ç®¡ç†

#### 3. Prometheus + Grafana (S86-1, 10 pts)
- å®Œæ•´æŒ‡æ¨™æ”¶é›†
- è‡ªå®šç¾© Dashboard

#### 4. ç½é›£æ¢å¾© (S86-2, 10 pts)
- è‡ªå‹•å‚™ä»½ç­–ç•¥
- æ¢å¾©æµç¨‹æ¸¬è©¦

### ä¾è³´é—œä¿‚

- Phase 21-24 å®Œæˆ
- Azure Kubernetes Service (AKS)

---

## Phase 26: DevUI å‰ç«¯å¯¦ç¾ (42 pts) ğŸŸ¡ P1 é«˜å„ªå…ˆ

### ç›®æ¨™

å¯¦ç¾ DevUI (Developer User Interface) é–‹ç™¼è€…èª¿è©¦ä»‹é¢çš„å‰ç«¯ UIï¼Œæä¾›å®Œæ•´çš„åŸ·è¡Œè¿½è¹¤ã€æ™‚é–“ç·šå¯è¦–åŒ–å’Œçµ±è¨ˆåˆ†æåŠŸèƒ½ã€‚

### èƒŒæ™¯

DevUI å¾Œç«¯ API å·²åœ¨ Phase 16 å®Œæˆå¯¦ç¾ï¼ŒåŒ…å«ï¼š
- 13 å€‹ REST API ç«¯é» (`/api/v1/devtools/`)
- 25 ç¨®äº‹ä»¶é¡å‹ (å·¥ä½œæµã€LLMã€å·¥å…·ã€æª¢æŸ¥é»ç­‰)
- æ™‚é–“ç·šå¯è¦–åŒ–å’Œçµ±è¨ˆæ•¸æ“š API

### Sprint è¦åŠƒ

| Sprint | åç¨± | Points | æ ¸å¿ƒåŠŸèƒ½ |
|--------|------|--------|---------|
| **S87** | DevUI æ ¸å¿ƒé é¢ | 14 pts | è·¯ç”±å¸ƒå±€ã€è¿½è¹¤åˆ—è¡¨ã€è¿½è¹¤è©³æƒ… |
| **S88** | æ™‚é–“ç·šå¯è¦–åŒ– | 16 pts | æ™‚é–“ç·šçµ„ä»¶ã€äº‹ä»¶æ¨¹ã€è©³æƒ…é¢æ¿ |
| **S89** | çµ±è¨ˆå’Œé€²éšåŠŸèƒ½ | 12 pts | çµ±è¨ˆå„€è¡¨æ¿ã€å¯¦æ™‚è¿½è¹¤ã€éæ¿¾æœç´¢ |

### æ ¸å¿ƒåŠŸèƒ½

#### 1. DevUI æ ¸å¿ƒé é¢ (S87)
- DevUI é é¢è·¯ç”±å’Œå¸ƒå±€
- è¿½è¹¤åˆ—è¡¨é é¢ (åˆ†é ã€éæ¿¾)
- è¿½è¹¤è©³æƒ…é é¢ (äº‹ä»¶åˆ—è¡¨)

#### 2. æ™‚é–“ç·šå¯è¦–åŒ– (S88)
- å‚ç›´æ™‚é–“ç·šçµ„ä»¶
- äº‹ä»¶æ¨¹å½¢çµæ§‹é¡¯ç¤º
- LLM/Tool äº‹ä»¶è©³æƒ…é¢æ¿

#### 3. çµ±è¨ˆå’Œé€²éšåŠŸèƒ½ (S89)
- LLM/å·¥å…·èª¿ç”¨çµ±è¨ˆå„€è¡¨æ¿
- SSE å¯¦æ™‚è¿½è¹¤æ›´æ–°
- äº‹ä»¶éæ¿¾å’Œæœç´¢

### æŠ€è¡“æ¶æ§‹

```
frontend/src/
â”œâ”€â”€ pages/DevUI/
â”‚   â”œâ”€â”€ index.tsx           # ä¸»è·¯ç”±
â”‚   â”œâ”€â”€ TraceList.tsx       # è¿½è¹¤åˆ—è¡¨
â”‚   â””â”€â”€ TraceDetail.tsx     # è¿½è¹¤è©³æƒ…
â”œâ”€â”€ components/DevUI/
â”‚   â”œâ”€â”€ Timeline.tsx        # æ™‚é–“ç·š
â”‚   â”œâ”€â”€ EventTree.tsx       # äº‹ä»¶æ¨¹
â”‚   â”œâ”€â”€ Statistics.tsx      # çµ±è¨ˆé¢æ¿
â”‚   â””â”€â”€ EventFilter.tsx     # éæ¿¾å™¨
â””â”€â”€ hooks/
    â”œâ”€â”€ useDevTools.ts      # API hooks
    â””â”€â”€ useDevToolsStream.ts # SSE hook
```

### ä¾è³´é—œä¿‚

- Phase 25 å®Œæˆ (ç”Ÿç”¢ç’°å¢ƒæ“´å±•)
- å¾Œç«¯ DevTools API å¯ç”¨
- å‰ç«¯åŸºç¤ (Phase 16-19)

---

## Phase 27: mem0 æ•´åˆå®Œå–„ (13 pts) ğŸŸ¡ P1 é«˜å„ªå…ˆ

### ç›®æ¨™

å®Œå–„ mem0 é•·æœŸè¨˜æ†¶ç³»çµ±çš„æ•´åˆï¼Œæ·»åŠ ä¾è³´é …ã€ç’°å¢ƒè®Šæ•¸é…ç½®ã€æ¸¬è©¦è¦†è“‹å’Œæ–‡æª”æ›´æ–°ã€‚

### èƒŒæ™¯

mem0 æ•´åˆçš„æ ¸å¿ƒä»£ç¢¼å·²åœ¨ Phase 22 å¯¦ç¾ï¼Œä½†å­˜åœ¨ä»¥ä¸‹å¾…å®Œæˆé …ç›®ï¼š
- `mem0ai` æœªæ·»åŠ åˆ° `requirements.txt`
- ç’°å¢ƒè®Šæ•¸é…ç½®ä¸å®Œæ•´
- ç¼ºå°‘å–®å…ƒæ¸¬è©¦å’Œé›†æˆæ¸¬è©¦

### Sprint è¦åŠƒ

| Sprint | åç¨± | Points | æ ¸å¿ƒåŠŸèƒ½ |
|--------|------|--------|---------|
| **S90** | mem0 æ•´åˆå®Œå–„ | 13 pts | ä¾è³´ã€é…ç½®ã€æ¸¬è©¦ã€æ–‡æª” |

### æ ¸å¿ƒåŠŸèƒ½

#### 1. æ·»åŠ  mem0 ä¾è³´ (S90-1, 1 pt)
```bash
# requirements.txt æ–°å¢
mem0ai>=0.0.1
```

#### 2. ç’°å¢ƒè®Šæ•¸é…ç½® (S90-2, 2 pts)
```bash
MEM0_ENABLED=true
QDRANT_PATH=/data/mem0/qdrant
QDRANT_COLLECTION=ipa_memories
EMBEDDING_MODEL=text-embedding-3-small
MEMORY_LLM_PROVIDER=anthropic
MEMORY_LLM_MODEL=claude-sonnet-4-20250514
```

#### 3. mem0_client.py å–®å…ƒæ¸¬è©¦ (S90-3, 5 pts)
- æ¸¬è©¦è¦†è“‹ç‡ > 85%
- Mock å¤–éƒ¨ API èª¿ç”¨

#### 4. Memory API é›†æˆæ¸¬è©¦ (S90-4, 3 pts)
- æ‰€æœ‰ç«¯é»æ¸¬è©¦é€šé
- éŒ¯èª¤è™•ç†æ­£ç¢º

#### 5. æ–‡æª”æ›´æ–° (S90-5, 2 pts)
- é…ç½®èªªæ˜å®Œæ•´
- API ä½¿ç”¨ç¤ºä¾‹
- æ•…éšœæ’é™¤ç« ç¯€

### ä¸‰å±¤è¨˜æ†¶æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Working Memory (Layer 1)                     â”‚
â”‚  Redis | TTL: 30 min | å®¹é‡: æœ‰é™ | é€Ÿåº¦: æœ€å¿«          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Session Memory (Layer 2)                       â”‚
â”‚ PostgreSQL | TTL: 7 å¤© | å®¹é‡: ä¸­ç­‰ | é€Ÿåº¦: ä¸­ç­‰         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Long-term Memory (Layer 3)                      â”‚
â”‚ mem0 + Qdrant | TTL: æ°¸ä¹… | å®¹é‡: ç„¡é™ | é€Ÿåº¦: æ…¢        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¾è³´é—œä¿‚

- Phase 26 å®Œæˆ (DevUI å‰ç«¯)
- OpenAI API key (å‘é‡ç”Ÿæˆ)
- Anthropic API key (è¨˜æ†¶æå–)

---

## Technical Dependencies

### Phase 21 æŠ€è¡“æ£§
| æŠ€è¡“ | ç”¨é€” |
|------|------|
| Python subprocess | é€²ç¨‹éš”é›¢ |
| asyncio | ç•°æ­¥ IPC |
| JSON-RPC | é€²ç¨‹é€šä¿¡å”è­° |

### Phase 22 æŠ€è¡“æ£§
| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| mem0ai | 1.0.1+ | é•·æœŸè¨˜æ†¶ SDK |
| anthropic | latest | Claude API |
| qdrant-client | 1.x | å‘é‡å­˜å„² |

### Phase 26-27 æŠ€è¡“æ£§
| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 18.x | å‰ç«¯æ¡†æ¶ |
| TypeScript | 5.x | é¡å‹å®‰å…¨ |
| TanStack Query | latest | æ•¸æ“šç²å– |
| EventSource | native | SSE é€£æ¥ |

---

## Risk Assessment

| é¢¨éšª | å½±éŸ¿ | å¯èƒ½æ€§ | ç·©è§£æªæ–½ |
|------|------|--------|---------|
| æ²™ç®±é€ƒé€¸ | ğŸ”´ é«˜ | ä½ | å¤šå±¤é˜²è­·ï¼Œå®šæœŸå®‰å…¨å¯©è¨ˆ |
| é€²ç¨‹å•Ÿå‹•å»¶é² | ä¸­ | ä¸­ | é€²ç¨‹æ± é ç†±ï¼Œè¤‡ç”¨é€²ç¨‹ |
| mem0 æˆæœ¬è¶…é ç®— | ä¸­ | ä¸­ | ä½¿ç”¨æœ¬åœ° Qdrant |
| K8s å­¸ç¿’æ›²ç·š | ä¸­ | é«˜ | App Service ä½œç‚ºå‚™é¸ |
| DevUI æ€§èƒ½å•é¡Œ | ä¸­ | ä¸­ | è™›æ“¬åˆ—è¡¨ã€åˆ†é å„ªåŒ– |

---

## Success Metrics

### Phase 21 KPI âœ…
- é€²ç¨‹éš”é›¢æœ‰æ•ˆæ€§ 100%
- é¦–æ¬¡å•Ÿå‹•å»¶é² < 200ms
- å®‰å…¨æ¸¬è©¦é€šéç‡ 100%

### Phase 22 KPI âœ…
- Claude è‡ªä¸»è¦åŠƒæˆåŠŸç‡ > 80%
- mem0 è¨˜æ†¶æª¢ç´¢æº–ç¢ºç‡ > 80%

### Phase 23 KPI
- å¤š Agent å”èª¿æˆåŠŸç‡ > 90%
- ä¸»å‹•å·¡æª¢å•é¡Œç™¼ç¾ç‡ > 80%

### Phase 24-25 KPI
- å‰ç«¯æ€§èƒ½æŒ‡æ¨™é”æ¨™
- K8s å¯ç”¨æ€§ > 99.9%

### Phase 26 KPI
- é é¢åŠ è¼‰æ™‚é–“ < 2s
- æ™‚é–“ç·šæ¸²æŸ“å»¶é² < 500ms
- å¯¦æ™‚æ›´æ–°å»¶é² < 1s

### Phase 27 KPI
- mem0 ä¾è³´å®‰è£ç„¡è¡çª
- å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ > 85%
- é›†æˆæ¸¬è©¦é€šéç‡ 100%

---

## References

- [Phase 21 README](phase-21/README.md)
- [Phase 22 README](phase-22/README.md)
- [Phase 23 README](phase-23/README.md)
- [Phase 24 README](phase-24/README.md)
- [Phase 25 README](phase-25/README.md)
- [Phase 26 README](phase-26/README.md)
- [Phase 27 README](phase-27/README.md)
- [mem0 Documentation](https://docs.mem0.ai/)
- [Claude Extended Thinking](https://platform.claude.com/docs/)

---

**Last Updated**: 2026-01-13
**Total Story Points**: 263 pts (14 Sprints, 7 Phases)
