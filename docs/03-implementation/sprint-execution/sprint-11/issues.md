# Sprint 11: Nested Workflows - Issues Log

## 問題追蹤

### 開放問題

暫無

---

### 已解決問題

#### I11-001: 測試參數不匹配
**日期**: 2025-12-05
**描述**: 部分測試案例的參數與實際實現不匹配
**影響**: 低 - 測試文件需要與實現對齊
**解決方案**: 需要在 Sprint 12 進行測試調整
**狀態**: ✅ 記錄待處理

---

## 風險追蹤

| 風險 | 影響 | 緩解措施 | 狀態 |
|------|------|----------|------|
| 無限遞歸 | 高 | 強制深度限制、迭代上限 | ✅ 已實現 |
| 記憶體爆發 | 高 | 限制歷史記錄大小、定期清理 | ✅ 已實現 |
| 循環依賴 | 中 | DFS 依賴圖檢測 | ✅ 已實現 |
| 上下文污染 | 中 | 4 種作用域隔離機制 | ✅ 已實現 |

---

## 緩解措施詳情

### 無限遞歸保護
- `max_depth` 默認值: 10
- `max_iterations` 默認值: 100
- 6 種終止條件類型支援

### 記憶體管理
- RecursionStack 深度限制
- MemoizationCache TTL 支援
- DataFlowTracker 事件限制

### 循環依賴檢測
- DFS 深度優先搜索算法
- 在 `register_sub_workflow()` 時檢測
- 拋出 `ValueError` 阻止註冊

### 上下文隔離
- ISOLATED: 完全隔離
- INHERITED: 只讀繼承
- SHARED: 讀寫共享
- FILTER: 選擇性傳播
