# Epic 10: n8n 工作流整合

> **建立日期**: 2025-12-20
> **完成日期**: 2025-12-21
> **狀態**: ✅ 已完成
> **優先級**: Medium

---

## 1. Epic 目標

### 主要目標
整合 n8n 工作流引擎，實現自定義業務流程自動化，連接系統內外部服務，擴展系統能力。

### 業務價值
- 彈性工作流配置
- 連接第三方系統
- 減少開發需求
- 支援業務自動化

### 成功定義
- 完成 n8n 部署整合
- 建立核心工作流模板
- 實現 Webhook 觸發
- 提供工作流監控

---

## 2. Epic 範圍

### 包含功能（In Scope）

| Story | 名稱 | 描述 | 狀態 |
|-------|------|------|------|
| 10-1 | n8n 部署整合 | Docker 部署與配置 | ✅ |
| 10-2 | Webhook 觸發 | 事件驅動工作流 | ✅ |
| 10-3 | 核心工作流模板 | 預建常用流程 | ✅ |
| 10-4 | 自訂節點開發 | 系統 API 整合節點 | ✅ |
| 10-5 | 執行監控 | 工作流執行追蹤 | ✅ |

### 排除功能（Out of Scope）
- n8n 雲端版本
- 複雜業務規則引擎

### 依賴項
- Docker/Docker Compose
- 系統 API (Epic 11)

---

## 3. 技術架構概覽

### n8n 整合架構

```
┌─────────────────────────────────────────────────────────────────┐
│                    n8n 工作流整合                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [系統事件] → [Webhook] → [n8n 工作流] → [外部服務]             │
│                                                                 │
│  預建模板:                                                      │
│  • 發票處理完成通知                                             │
│  • 異常警報發送                                                 │
│  • 定期報表生成                                                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. 成功指標

| 指標 | 目標 | 實際 |
|------|------|------|
| 工作流執行成功率 | ≥ 98% | ✅ 達成 |
| Webhook 延遲 | < 1s | ✅ 達成 |
| 模板覆蓋率 | ≥ 80% | ✅ 達成 |

---

## 5. 相關文檔

- PRD: `docs/01-planning/prd/prd.md`
- 架構設計: `docs/02-architecture/architecture.md`

---

**維護者**: Development Team
**最後更新**: 2025-12-26
