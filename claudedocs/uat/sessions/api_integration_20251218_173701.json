{
  "test_plan": "API Integration Test",
  "executed_at": "2025-12-18T17:36:58.012928",
  "completed_at": "2025-12-18T17:37:01.212423",
  "environment": {
    "base_url": "http://localhost:8000",
    "test_type": "HTTP API Integration"
  },
  "summary": {
    "total_tests": 13,
    "passed": 5,
    "failed": 8,
    "pass_rate": "38.5%",
    "total_duration_seconds": 3.2
  },
  "results": [
    {
      "test_id": 1,
      "test_name": "Create Workflow",
      "phase": "Phase 1: Workflows API",
      "method": "POST",
      "endpoint": "/api/v1/workflows/",
      "status": "FAIL",
      "http_status": 422,
      "duration_ms": 4.99,
      "response": {},
      "error": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"graph_definition\"],\"msg\":\"Field required\",\"input\":{\"name\":\"Test Workflow 8bf2b71a\",\"description\":\"Integration test workflow\",\"type\":\"sequential\",\"version\":\"1.0.0\",\"nodes\":[{\"id\":\"start\",\"type\":\"start\"},{\"id\":\"process\",\"type\":\"agent\",\"agent\":\"test_agent\"},{\"id\":\"end\",\"type\":\"end\"}],\"edges\":[{\"from\":\"start\",\"to\":\"process\"},{\"from\":\"process\",\"to\":\"end\"}]}}]}"
    },
    {
      "test_id": 2,
      "test_name": "Create Agent",
      "phase": "Phase 2: Agents API",
      "method": "POST",
      "endpoint": "/api/v1/agents/",
      "status": "FAIL",
      "http_status": 422,
      "duration_ms": 2.98,
      "response": {},
      "error": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"instructions\"],\"msg\":\"Field required\",\"input\":{\"name\":\"Test Agent cb3b1c5d\",\"description\":\"Integration test agent\",\"type\":\"assistant\",\"model\":\"gpt-4o\",\"capabilities\":[\"classification\",\"routing\"],\"system_prompt\":\"You are a test assistant.\"}}]}"
    },
    {
      "test_id": 3,
      "test_name": "Create Checkpoint",
      "phase": "Phase 3: Checkpoints API",
      "method": "POST",
      "endpoint": "/api/v1/checkpoints/",
      "status": "FAIL",
      "http_status": 422,
      "duration_ms": 3.7,
      "response": {},
      "error": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"node_id\"],\"msg\":\"Field required\",\"input\":{\"execution_id\":\"3a89ca45-c564-4331-a9c0-114df746e354\",\"type\":\"approval\",\"approvers\":[\"it_manager\"],\"timeout_minutes\":30,\"context\":{\"priority\":\"P1\",\"reason\":\"Integration test checkpoint\"}}}]}"
    },
    {
      "test_id": 4,
      "test_name": "List Pending Checkpoints",
      "phase": "Phase 3: Checkpoints API",
      "method": "GET",
      "endpoint": "/api/v1/checkpoints/pending",
      "status": "PASS",
      "http_status": 200,
      "duration_ms": 64.09,
      "response": {
        "count": "N/A"
      },
      "error": ""
    },
    {
      "test_id": 5,
      "test_name": "Create Checkpoint for Rejection",
      "phase": "Phase 3: Checkpoints API",
      "method": "POST",
      "endpoint": "/api/v1/checkpoints/",
      "status": "FAIL",
      "http_status": 422,
      "duration_ms": 4.25,
      "response": {},
      "error": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"node_id\"],\"msg\":\"Field required\",\"input\":{\"execution_id\":\"bf4b0fe5-b51f-4ea0-bda2-069519d70e1f\",\"type\":\"approval\",\"approvers\":[\"it_manager\"],\"timeout_minutes\":30,\"context\":{\"priority\":\"P2\",\"reason\":\"Test rejection\"}}}]}"
    },
    {
      "test_id": 6,
      "test_name": "Trigger Handoff",
      "phase": "Phase 4: Handoff API",
      "method": "POST",
      "endpoint": "/api/v1/handoff/trigger",
      "status": "FAIL",
      "http_status": 422,
      "duration_ms": 10.46,
      "response": {},
      "error": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"source_agent_id\"],\"msg\":\"Field required\",\"input\":{\"source_agent\":\"triage_agent\",\"target_agent\":\"network_expert\",\"context\":{\"ticket_id\":\"TKT-TEST-eaae8f\",\"priority\":\"P1\",\"category\":\"Network\"}}}]}"
    },
    {
      "test_id": 7,
      "test_name": "Capability Matching",
      "phase": "Phase 4: Handoff API",
      "method": "POST",
      "endpoint": "/api/v1/handoff/capability/match",
      "status": "FAIL",
      "http_status": 422,
      "duration_ms": 3.81,
      "response": {},
      "error": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"requirements\"],\"msg\":\"Field required\",\"input\":{\"required_capabilities\":[\"network_diagnosis\",\"troubleshooting\"],\"context\":{\"priority\":\"P1\"}}}]}"
    },
    {
      "test_id": 8,
      "test_name": "Get Handoff History",
      "phase": "Phase 4: Handoff API",
      "method": "GET",
      "endpoint": "/api/v1/handoff/history",
      "status": "PASS",
      "http_status": 200,
      "duration_ms": 3.01,
      "response": {
        "count": "N/A"
      },
      "error": ""
    },
    {
      "test_id": 9,
      "test_name": "Route to Scenario",
      "phase": "Phase 5: Routing API",
      "method": "POST",
      "endpoint": "/api/v1/routing/route",
      "status": "FAIL",
      "http_status": 422,
      "duration_ms": 2.5,
      "response": {},
      "error": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"source_scenario\"],\"msg\":\"Field required\",\"input\":{\"category\":\"Network\",\"priority\":\"P1\",\"context\":{\"department\":\"Finance\",\"impact\":\"50 users\"}}},{\"type\":\"missing\",\"loc\":[\"body\",\"target_scenario\"],\"msg\":\"Field required\",\"input\":{\"category\":\"Network\",\"priority\":\"P1\",\"context\":{\"department\":\"Finance\",\"impact\":\"50 users\"}}},{\"type\":\"missing\",\"loc\":[\"body\",\"source_execution_id\"],\"msg\":\"Field required\",\"input\":{\"category\":\"Network\",\"priority\":\"P1\",\"context\":{\"department\":\"Finance\",\"impact\":\"50 users\"}}}]}"
    },
    {
      "test_id": 10,
      "test_name": "List Scenarios",
      "phase": "Phase 5: Routing API",
      "method": "GET",
      "endpoint": "/api/v1/routing/scenarios",
      "status": "PASS",
      "http_status": 200,
      "duration_ms": 3.14,
      "response": {
        "count": "N/A"
      },
      "error": ""
    },
    {
      "test_id": 11,
      "test_name": "Routing Health Check",
      "phase": "Phase 5: Routing API",
      "method": "GET",
      "endpoint": "/api/v1/routing/health",
      "status": "PASS",
      "http_status": 200,
      "duration_ms": 2.1,
      "response": {
        "service": "routing",
        "status": "healthy",
        "total_relations": 0,
        "configured_scenarios": 5,
        "configured_workflows": 0
      },
      "error": ""
    },
    {
      "test_id": 12,
      "test_name": "Create GroupChat",
      "phase": "Phase 6: GroupChat API",
      "method": "POST",
      "endpoint": "/api/v1/groupchat/",
      "status": "FAIL",
      "http_status": 422,
      "duration_ms": 2.69,
      "response": {},
      "error": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"agent_ids\"],\"msg\":\"Field required\",\"input\":{\"name\":\"Test GroupChat d1abed91\",\"participants\":[\"network_expert\",\"endpoint_expert\",\"helpdesk_agent\"],\"config\":{\"max_turns\":10,\"selection_strategy\":\"round_robin\"}}}]}"
    },
    {
      "test_id": 13,
      "test_name": "List GroupChats",
      "phase": "Phase 6: GroupChat API",
      "method": "GET",
      "endpoint": "/api/v1/groupchat/",
      "status": "PASS",
      "http_status": 200,
      "duration_ms": 2.37,
      "response": {
        "count": 0
      },
      "error": ""
    }
  ]
}