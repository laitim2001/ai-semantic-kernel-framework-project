# Agents 功能測試清單

> **模組**: Agents
> **頁面 URL**: http://localhost:3005/agents
> **API 基礎**: /api/v1/agents
> **優先級**: 高

---

## 測試概覽

| 功能類別 | 功能數 | 優先級 |
|----------|--------|--------|
| 列表功能 | 3 | 高 |
| CRUD 操作 | 4 | 高 |
| 配置功能 | 3 | 中 |
| **總計** | **10** | - |

---

## 功能測試清單

### 1. 列表功能

| # | 功能 | 優先級 | 狀態 | 備註 |
|---|------|--------|------|------|
| 1.1 | Agent 列表顯示 | 高 | 待測試 | GET /api/v1/agents |
| 1.2 | 分頁功能 | 中 | 待測試 | |
| 1.3 | 類型篩選 | 中 | 待測試 | |

### 2. CRUD 操作

| # | 功能 | 優先級 | 狀態 | 備註 |
|---|------|--------|------|------|
| 2.1 | 創建新 Agent | 高 | 待測試 | POST /api/v1/agents |
| 2.2 | 查看 Agent 詳情 | 高 | 待測試 | GET /api/v1/agents/{id} |
| 2.3 | 編輯 Agent | 高 | 待測試 | PUT /api/v1/agents/{id} |
| 2.4 | 刪除 Agent | 高 | 待測試 | DELETE /api/v1/agents/{id} |

### 3. 配置功能

| # | 功能 | 優先級 | 狀態 | 備註 |
|---|------|--------|------|------|
| 3.1 | 配置 Agent 指令 | 中 | 待測試 | |
| 3.2 | 配置 Agent 工具 | 中 | 待測試 | |
| 3.3 | 測試 Agent 回應 | 高 | 待測試 | |

---

## 測試步驟詳情

### 1.1 Agent 列表顯示

```yaml
前置條件:
  - 系統有至少 1 個 Agent

測試步驟:
  1. 導航到 /agents 頁面
  2. 確認列表正確載入
  3. 確認每個 Agent 顯示名稱、類型、狀態

預期結果:
  - 列表正確顯示所有 Agents
  - 顯示 loading 狀態
  - 無數據時顯示空狀態

驗證 API:
  GET /api/v1/agents
```

### 2.1 創建新 Agent

```yaml
測試步驟:
  1. 點擊 "Create Agent" 按鈕
  2. 填寫 Agent 名稱
  3. 選擇 Agent 類型
  4. 輸入系統指令
  5. 點擊保存

預期結果:
  - 成功創建並顯示在列表中
  - 顯示成功提示訊息

驗證 API:
  POST /api/v1/agents
  Body: { "name": "...", "type": "...", "instructions": "..." }
```

### 2.2 查看 Agent 詳情

```yaml
前置條件:
  - 有一個已存在的 Agent

測試步驟:
  1. 從列表點擊 Agent 名稱或詳情按鈕
  2. 查看詳情頁面

預期結果:
  - 顯示完整 Agent 配置
  - 顯示指令內容
  - 顯示關聯的 Tools
```

### 2.3 編輯 Agent

```yaml
前置條件:
  - 有一個可編輯的 Agent

測試步驟:
  1. 從列表點擊編輯按鈕
  2. 修改名稱或指令
  3. 保存修改

預期結果:
  - 修改成功保存
  - 返回列表顯示更新後的信息
```

### 2.4 刪除 Agent

```yaml
前置條件:
  - 有一個可刪除的 Agent
  - Agent 未被 Workflow 使用

測試步驟:
  1. 從列表點擊刪除按鈕
  2. 確認刪除對話框
  3. 確認刪除

預期結果:
  - 顯示確認對話框
  - 確認後 Agent 從列表移除
  - 顯示成功提示
```

### 3.3 測試 Agent 回應

```yaml
前置條件:
  - 有一個已配置的 Agent
  - Azure OpenAI 已配置 (或使用 Mock 模式)

測試步驟:
  1. 打開 Agent 詳情頁
  2. 找到測試區域
  3. 輸入測試訊息
  4. 點擊發送

預期結果:
  - Agent 返回回應
  - Mock 模式下返回模擬回應
  - 無 API Key 時顯示適當提示
```

---

## 錯誤場景測試

| # | 場景 | 預期行為 | 狀態 |
|---|------|----------|------|
| E1 | 創建重複名稱 | 顯示錯誤提示 | 待測試 |
| E2 | 刪除被使用的 Agent | 阻止刪除或顯示警告 | 待測試 |
| E3 | 無效指令格式 | 驗證錯誤提示 | 待測試 |

---

## 測試記錄

| 測試日期 | 測試者 | 通過數 | 失敗數 | 備註 |
|----------|--------|--------|--------|------|
| - | - | - | - | - |

---

**最後更新**: 2025-12-09
