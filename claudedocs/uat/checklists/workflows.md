# Workflows 功能測試清單

> **模組**: Workflows
> **頁面 URL**: http://localhost:3005/workflows
> **API 基礎**: /api/v1/workflows
> **優先級**: 高

---

## 測試概覽

| 功能類別 | 功能數 | 優先級 |
|----------|--------|--------|
| 列表功能 | 4 | 高 |
| CRUD 操作 | 4 | 高 |
| 編輯器功能 | 4 | 高 |
| **總計** | **12** | - |

---

## 功能測試清單

### 1. 列表功能

| # | 功能 | 優先級 | 狀態 | 備註 |
|---|------|--------|------|------|
| 1.1 | Workflow 列表顯示 | 高 | 待測試 | GET /api/v1/workflows |
| 1.2 | 分頁功能 | 中 | 待測試 | |
| 1.3 | 搜索過濾 | 中 | 待測試 | |
| 1.4 | 狀態篩選 | 中 | 待測試 | |

### 2. CRUD 操作

| # | 功能 | 優先級 | 狀態 | 備註 |
|---|------|--------|------|------|
| 2.1 | 創建新 Workflow | 高 | 待測試 | POST /api/v1/workflows |
| 2.2 | 查看 Workflow 詳情 | 高 | 待測試 | GET /api/v1/workflows/{id} |
| 2.3 | 編輯 Workflow | 高 | 待測試 | PUT /api/v1/workflows/{id} |
| 2.4 | 刪除 Workflow | 高 | 待測試 | DELETE /api/v1/workflows/{id} |

### 3. 編輯器功能

| # | 功能 | 優先級 | 狀態 | 備註 |
|---|------|--------|------|------|
| 3.1 | 拖拽添加節點 | 高 | 待測試 | |
| 3.2 | 連接節點 | 高 | 待測試 | |
| 3.3 | 配置節點屬性 | 高 | 待測試 | |
| 3.4 | 保存 Workflow | 高 | 待測試 | |

---

## 測試步驟詳情

### 1.1 Workflow 列表顯示

```yaml
前置條件:
  - 系統有至少 1 個 Workflow

測試步驟:
  1. 導航到 /workflows 頁面
  2. 確認列表正確載入
  3. 確認每個 Workflow 顯示名稱、狀態、創建時間

預期結果:
  - 列表正確顯示所有 Workflows
  - 顯示 loading 狀態
  - 無數據時顯示空狀態

驗證 API:
  GET /api/v1/workflows
```

### 2.1 創建新 Workflow

```yaml
測試步驟:
  1. 點擊 "Create Workflow" 按鈕
  2. 輸入 Workflow 名稱
  3. (可選) 添加描述
  4. 點擊保存

預期結果:
  - 成功創建並顯示在列表中
  - 顯示成功提示訊息
  - 可導航到編輯器

驗證 API:
  POST /api/v1/workflows
  Body: { "name": "...", "description": "..." }
```

### 2.3 編輯 Workflow

```yaml
前置條件:
  - 有一個可編輯的 Workflow

測試步驟:
  1. 從列表點擊編輯按鈕
  2. 進入編輯器
  3. 修改名稱或結構
  4. 保存修改

預期結果:
  - 修改成功保存
  - 返回列表顯示更新後的信息
```

### 2.4 刪除 Workflow

```yaml
前置條件:
  - 有一個可刪除的 Workflow

測試步驟:
  1. 從列表點擊刪除按鈕
  2. 確認刪除對話框
  3. 確認刪除

預期結果:
  - 顯示確認對話框
  - 確認後 Workflow 從列表移除
  - 顯示成功提示
```

### 3.1 拖拽添加節點

```yaml
測試步驟:
  1. 打開 Workflow 編輯器
  2. 從側邊欄拖拽節點到畫布
  3. 放置節點

預期結果:
  - 節點成功添加到畫布
  - 節點可選中
  - 可查看節點屬性
```

### 3.2 連接節點

```yaml
前置條件:
  - 畫布上有至少 2 個節點

測試步驟:
  1. 從一個節點拖拽連接點
  2. 連接到另一個節點

預期結果:
  - 顯示連接線
  - 連接可刪除
  - 連接保存正確
```

---

## 錯誤場景測試

| # | 場景 | 預期行為 | 狀態 |
|---|------|----------|------|
| E1 | 創建重複名稱 | 顯示錯誤提示 | 待測試 |
| E2 | 刪除正在執行的 Workflow | 阻止刪除或顯示警告 | 待測試 |
| E3 | 保存無效配置 | 驗證錯誤提示 | 待測試 |

---

## 測試記錄

| 測試日期 | 測試者 | 通過數 | 失敗數 | 備註 |
|----------|--------|--------|--------|------|
| - | - | - | - | - |

---

**最後更新**: 2025-12-09
